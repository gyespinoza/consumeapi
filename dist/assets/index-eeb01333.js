import{_ as m,o as i,c as l,F as C,r as k,a as u,w as T,v as V,t as g,n as r,b as h,d as f,e as y,f as v,g as x,h as P}from"./index-cfc155b7.js";const w={data(){return{allRegions:["All","Europe","Americas","Asia","Africa","Oceania","Antarctic"]}},components:{},computed:{currentRegion:{get(){return this.$store.state.currentRegion},set(n){this.$store.commit("SET_REGION",n)}}}},R=u("h3",null,"Filtros",-1),N=["id","value"],M={class:"form-check-label"};function B(n,a,t,o,d,s){return i(),l("div",null,[R,(i(!0),l(C,null,k(d.allRegions,e=>(i(),l("div",{class:"form-check",key:e},[T(u("input",{type:"radio",id:e.id,name:"regionSelct",value:e,"onUpdate:modelValue":a[0]||(a[0]=c=>s.currentRegion=c),class:"form-check-input"},null,8,N),[[V,s.currentRegion]]),u("label",M,g(e),1)]))),128))])}const H=m(w,[["render",B]]);var I=(n,a)=>{const t=n.__vccOpts||n;for(const[o,d]of a)t[o]=d;return t};const A={data(){return{innerValue:1}},props:{modelValue:{type:Number},pageCount:{type:Number,required:!0},initialPage:{type:Number,default:1},forcePage:{type:Number},clickHandler:{type:Function,default:()=>{}},pageRange:{type:Number,default:3},marginPages:{type:Number,default:1},prevText:{type:String,default:"Prev"},nextText:{type:String,default:"Next"},breakViewText:{type:String,default:"…"},containerClass:{type:String,default:"pagination"},pageClass:{type:String,default:"page-item"},pageLinkClass:{type:String,default:"page-link"},prevClass:{type:String,default:"page-item"},prevLinkClass:{type:String,default:"page-link"},nextClass:{type:String,default:"page-item"},nextLinkClass:{type:String,default:"page-link"},breakViewClass:{type:String},breakViewLinkClass:{type:String},activeClass:{type:String,default:"active"},disabledClass:{type:String,default:"disabled"},noLiSurround:{type:Boolean,default:!1},firstLastButton:{type:Boolean,default:!1},firstButtonText:{type:String,default:"First"},lastButtonText:{type:String,default:"Last"},hidePrevNext:{type:Boolean,default:!1}},computed:{selected:{get:function(){return this.modelValue||this.innerValue},set:function(n){this.innerValue=n}},pages:function(){let n={};if(this.pageCount<=this.pageRange)for(let a=0;a<this.pageCount;a++){let t={index:a,content:a+1,selected:a===this.selected-1};n[a]=t}else{const a=Math.floor(this.pageRange/2);let t=e=>{let c={index:e,content:e+1,selected:e===this.selected-1};n[e]=c},o=e=>{let c={disabled:!0,breakView:!0};n[e]=c};for(let e=0;e<this.marginPages;e++)t(e);let d=0;this.selected-a>0&&(d=this.selected-1-a);let s=d+this.pageRange-1;s>=this.pageCount&&(s=this.pageCount-1,d=s-this.pageRange+1);for(let e=d;e<=s&&e<=this.pageCount-1;e++)t(e);d>this.marginPages&&o(d-1),s+1<this.pageCount-this.marginPages&&o(s+1);for(let e=this.pageCount-1;e>=this.pageCount-this.marginPages;e--)t(e)}return n}},methods:{handlePageSelected(n){this.selected!==n&&(this.innerValue=n,this.$emit("update:modelValue",n),this.clickHandler(n))},prevPage(){this.selected<=1||this.handlePageSelected(this.selected-1)},nextPage(){this.selected>=this.pageCount||this.handlePageSelected(this.selected+1)},firstPageSelected(){return this.selected===1},lastPageSelected(){return this.selected===this.pageCount||this.pageCount===0},selectFirstPage(){this.selected<=1||this.handlePageSelected(1)},selectLastPage(){this.selected>=this.pageCount||this.handlePageSelected(this.pageCount)}},beforeMount(){this.innerValue=this.initialPage},beforeUpdate(){this.forcePage!==void 0&&this.forcePage!==this.selected&&(this.selected=this.forcePage)}},D=["tabindex","innerHTML"],F=["tabindex","innerHTML"],K=["onClick","onKeyup"],E=["tabindex","innerHTML"],U=["tabindex","innerHTML"],O=["innerHTML"],j=["innerHTML"],q=["onClick","onKeyup"],G=["innerHTML"],z=["innerHTML"];function J(n,a,t,o,d,s){return t.noLiSurround?(i(),l("div",{key:1,class:r(t.containerClass)},[t.firstLastButton?(i(),l("a",{key:0,onClick:a[8]||(a[8]=e=>s.selectFirstPage()),onKeyup:a[9]||(a[9]=h(e=>s.selectFirstPage(),["enter"])),class:r([t.pageLinkClass,s.firstPageSelected()?t.disabledClass:""]),tabindex:"0",innerHTML:t.firstButtonText},null,42,O)):f("",!0),s.firstPageSelected()&&t.hidePrevNext?f("",!0):(i(),l("a",{key:1,onClick:a[10]||(a[10]=e=>s.prevPage()),onKeyup:a[11]||(a[11]=h(e=>s.prevPage(),["enter"])),class:r([t.prevLinkClass,s.firstPageSelected()?t.disabledClass:""]),tabindex:"0",innerHTML:t.prevText},null,42,j)),(i(!0),l(C,null,k(s.pages,e=>(i(),l(C,null,[e.breakView?(i(),l("a",{key:e.index,class:r([t.pageLinkClass,t.breakViewLinkClass,e.disabled?t.disabledClass:""]),tabindex:"0"},[y(n.$slots,"breakViewContent",{},()=>[v(g(t.breakViewText),1)])],2)):e.disabled?(i(),l("a",{key:e.index,class:r([t.pageLinkClass,e.selected?t.activeClass:"",t.disabledClass]),tabindex:"0"},g(e.content),3)):(i(),l("a",{key:e.index,onClick:c=>s.handlePageSelected(e.index+1),onKeyup:h(c=>s.handlePageSelected(e.index+1),["enter"]),class:r([t.pageLinkClass,e.selected?t.activeClass:""]),tabindex:"0"},g(e.content),43,q))],64))),256)),s.lastPageSelected()&&t.hidePrevNext?f("",!0):(i(),l("a",{key:2,onClick:a[12]||(a[12]=e=>s.nextPage()),onKeyup:a[13]||(a[13]=h(e=>s.nextPage(),["enter"])),class:r([t.nextLinkClass,s.lastPageSelected()?t.disabledClass:""]),tabindex:"0",innerHTML:t.nextText},null,42,G)),t.firstLastButton?(i(),l("a",{key:3,onClick:a[14]||(a[14]=e=>s.selectLastPage()),onKeyup:a[15]||(a[15]=h(e=>s.selectLastPage(),["enter"])),class:r([t.pageLinkClass,s.lastPageSelected()?t.disabledClass:""]),tabindex:"0",innerHTML:t.lastButtonText},null,42,z)):f("",!0)],2)):(i(),l("ul",{key:0,class:r(t.containerClass)},[t.firstLastButton?(i(),l("li",{key:0,class:r([t.pageClass,s.firstPageSelected()?t.disabledClass:""])},[u("a",{onClick:a[0]||(a[0]=e=>s.selectFirstPage()),onKeyup:a[1]||(a[1]=h(e=>s.selectFirstPage(),["enter"])),class:r(t.pageLinkClass),tabindex:s.firstPageSelected()?-1:0,innerHTML:t.firstButtonText},null,42,D)],2)):f("",!0),s.firstPageSelected()&&t.hidePrevNext?f("",!0):(i(),l("li",{key:1,class:r([t.prevClass,s.firstPageSelected()?t.disabledClass:""])},[u("a",{onClick:a[2]||(a[2]=e=>s.prevPage()),onKeyup:a[3]||(a[3]=h(e=>s.prevPage(),["enter"])),class:r(t.prevLinkClass),tabindex:s.firstPageSelected()?-1:0,innerHTML:t.prevText},null,42,F)],2)),(i(!0),l(C,null,k(s.pages,e=>(i(),l("li",{key:e.index,class:r([t.pageClass,e.selected?t.activeClass:"",e.disabled?t.disabledClass:"",e.breakView?t.breakViewClass:""])},[e.breakView?(i(),l("a",{key:0,class:r([t.pageLinkClass,t.breakViewLinkClass]),tabindex:"0"},[y(n.$slots,"breakViewContent",{},()=>[v(g(t.breakViewText),1)])],2)):e.disabled?(i(),l("a",{key:1,class:r(t.pageLinkClass),tabindex:"0"},g(e.content),3)):(i(),l("a",{key:2,onClick:c=>s.handlePageSelected(e.index+1),onKeyup:h(c=>s.handlePageSelected(e.index+1),["enter"]),class:r(t.pageLinkClass),tabindex:"0"},g(e.content),43,K))],2))),128)),s.lastPageSelected()&&t.hidePrevNext?f("",!0):(i(),l("li",{key:2,class:r([t.nextClass,s.lastPageSelected()?t.disabledClass:""])},[u("a",{onClick:a[4]||(a[4]=e=>s.nextPage()),onKeyup:a[5]||(a[5]=h(e=>s.nextPage(),["enter"])),class:r(t.nextLinkClass),tabindex:s.lastPageSelected()?-1:0,innerHTML:t.nextText},null,42,E)],2)),t.firstLastButton?(i(),l("li",{key:3,class:r([t.pageClass,s.lastPageSelected()?t.disabledClass:""])},[u("a",{onClick:a[6]||(a[6]=e=>s.selectLastPage()),onKeyup:a[7]||(a[7]=h(e=>s.selectLastPage(),["enter"])),class:r(t.pageLinkClass),tabindex:s.lastPageSelected()?-1:0,innerHTML:t.lastButtonText},null,42,U)],2)):f("",!0)],2))}var Q=I(A,[["render",J]]);const W={data(){return{pageCount:0}},components:{Paginate:Q},computed:{pageCountS(){return this.pageCount=Math.ceil(this.$store.state.total/10),this.$store.state.currentPage>this.pageCount&&(this.$store.state.currentPage=1),this.pageCount},currentPage:{get(){return this.$store.state.currentPage},set(n){this.$store.commit("SET_CURRENTPAGE",n)}}}};function X(n,a,t,o,d,s){const e=x("Paginate",!0);return i(),l("div",null,[P(e,{modelValue:s.currentPage,"onUpdate:modelValue":a[0]||(a[0]=c=>s.currentPage=c),"page-count":s.pageCountS,"page-range":3,"margin-pages":2,"prev-text":"Prev","next-text":"Next"},null,8,["modelValue","page-count"])])}const Y=m(W,[["render",X]]),_="https://restcountries.com",S=n=>new URL(n,_),Z=S("/v3.1/all"),p=n=>S(`v3.1/region/${n}`),b={BASE_URL:_,getAllCountries:Z,getbyRegion:p},$={props:{countriesData:[]}};function ee(n,a,t,o,d,s){return i(),l("div",null,[(i(!0),l(C,null,k(t.countriesData,e=>(i(),l("div",{key:e},g(e.common)+" "+g(e.official),1))),128))])}const te=m($,[["render",ee]]),se={data(){return{data:[],title:"",lastIndex:0,firstIndex:0,sliceData:[],getName:[]}},components:{CountriesView:te},methods:{async getAllCountries(){const n=await fetch(b.getAllCountries);this.data=await n.json(),this.title="Todos los países",this.total=this.data.length},async getcountriesbyRegion(){const n=await fetch(b.getbyRegion(this.$store.state.currentRegion));this.data=await n.json(),this.title="Países de la región: "+this.$store.state.currentRegion,this.total=this.data.length}},computed:{loadData(){return this.$store.state.currentRegion=="All"?(this.getAllCountries(),this.lastIndex=this.$store.state.currentPage*10,this.firstIndex=this.lastIndex-10,this.sliceData=this.data.slice(this.firstIndex,this.lastIndex),this.getName=this.sliceData.map(n=>n.name)):(this.getcountriesbyRegion(),this.lastIndex=this.$store.state.currentPage*10,this.firstIndex=this.lastIndex-10,this.sliceData=this.data.slice(this.firstIndex,this.lastIndex),this.getName=this.sliceData.map(n=>n.name)),this.getName},total:{get(){return this.$store.state.total},set(n){this.$store.commit("SET_TOTAL",n)}}}},ae={class:"container"},ne=u("br",null,null,-1);function ie(n,a,t,o,d,s){const e=x("CountriesView");return i(),l("div",ae,[u("h3",null,g(d.title),1),v(" "+g(n.$store.state.currentRegion),1),ne,P(e,{countriesData:s.loadData},null,8,["countriesData"])])}const le=m(se,[["render",ie]]),re={components:{Filters:H,Paginate:Y,countries:le}},de=u("div",{class:"row h-100 w-100",style:{"margin-top":"150px"}},[u("h1",null,"API COUNTRIES")],-1),ue={class:"row h-100 w-100"},ce={class:"col-sm-3"},ge={class:"col-sm-9",style:{height:"800px"}},oe={class:"container d-flex align-items-center justify-content-center",style:{height:"200px"}};function he(n,a,t,o,d,s){const e=x("Filters"),c=x("countries"),L=x("Paginate");return i(),l(C,null,[de,u("div",ue,[u("div",ce,[P(e)]),u("div",ge,[P(c),u("div",oe,[u("div",null,[P(L)])])])])],64)}const Ce=m(re,[["render",he]]);export{Ce as default};
